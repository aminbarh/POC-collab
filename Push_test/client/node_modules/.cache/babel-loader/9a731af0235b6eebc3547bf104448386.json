{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Amin\\\\Desktop\\\\POC-collab\\\\Push_test\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Amin\\\\Desktop\\\\POC-collab\\\\Push_test\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Amin\\\\Desktop\\\\POC-collab\\\\Push_test\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Amin\\\\Desktop\\\\POC-collab\\\\Push_Test\\\\client\\\\src\\\\components\\\\EditExercise.js\";\nimport React, { Fragment, useState, useEffect } from \"react\";\nimport \"reactstrap\";\nimport { newClass } from \"assets/css/style.css\";\n\nvar EditExercise = object => {\n  var _useState = useState(false),\n      _useState2 = _slicedToArray(_useState, 2),\n      modalDemo = _useState2[0],\n      setModalDemo = _useState2[1];\n\n  var toggleModalDemo = () => {\n    setModalDemo(!modalDemo);\n  }; // GET AIRPORTS  ( GET REQUEST )\n\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      airports = _useState4[0],\n      setairports = _useState4[1];\n\n  var getairports = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, jsonData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch(\"http://localhost:5000/airports\");\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return response.json();\n\n            case 6:\n              jsonData = _context.sent;\n              setairports(jsonData);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0.message);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function getairports() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    getairports();\n  }, []); // GET WEATHERS  ( GET REQUEST )\n\n  var _useState5 = useState([]),\n      _useState6 = _slicedToArray(_useState5, 2),\n      Weathers = _useState6[0],\n      setWeathers = _useState6[1];\n\n  var getWeathers = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var response, jsonData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return fetch(\"http://localhost:5000/weathers\");\n\n            case 3:\n              response = _context2.sent;\n              _context2.next = 6;\n              return response.json();\n\n            case 6:\n              jsonData = _context2.sent;\n              setWeathers(jsonData);\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0.message);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function getWeathers() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    getWeathers();\n  }, []);\n\n  function Exercise(name, airport_iata, weather_id) {\n    this.name = name;\n    this.airport_iata = airport_iata;\n    this.weather_id = weather_id;\n  }\n\n  function searchAirport(nameKey, myArray) {\n    for (var i = 0; i < myArray.length; i++) {\n      if (myArray[i].name === nameKey) {\n        return myArray[i].iata;\n      }\n    }\n  }\n\n  function searchWeather(nameKey, myArray) {\n    for (var i = 0; i < myArray.length; i++) {\n      if (myArray[i].name === nameKey) {\n        return myArray[i].id;\n      }\n    }\n  }\n\n  var _useState7 = useState(object.exercise.e_name),\n      _useState8 = _slicedToArray(_useState7, 2),\n      name = _useState8[0],\n      setname = _useState8[1];\n\n  var _useState9 = useState(object.exercise.a_name),\n      _useState10 = _slicedToArray(_useState9, 2),\n      airport = _useState10[0],\n      setAirport = _useState10[1];\n\n  var _useState11 = useState(object.exercise.w_name),\n      _useState12 = _slicedToArray(_useState11, 2),\n      weather = _useState12[0],\n      setWeather = _useState12[1]; //Update Exercise \n\n\n  var updateExercise = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var _searchAirport, _searchWeather, id, exercise, response;\n\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n\n              if (!(name != \"\")) {\n                _context3.next = 10;\n                break;\n              }\n\n              _searchWeather = function _searchWeather2(nameKey, myArray) {\n                for (var i = 0; i < myArray.length; i++) {\n                  if (myArray[i].name === nameKey) {\n                    return myArray[i].id;\n                  }\n                }\n              };\n\n              _searchAirport = function _searchAirport2(nameKey, myArray) {\n                for (var i = 0; i < myArray.length; i++) {\n                  if (myArray[i].name === nameKey) {\n                    return myArray[i].iata;\n                  }\n                }\n              };\n\n              id = Number(object.exercise.id);\n              exercise = new Exercise(name, _searchAirport(airport, airports), _searchWeather(weather, Weathers));\n              _context3.next = 8;\n              return fetch(\"http://localhost:5000/exercises/\".concat(id), {\n                method: \"PUT\",\n                headers: {\n                  \"content-type\": \"application/json\"\n                },\n                body: JSON.stringify(exercise)\n              });\n\n            case 8:\n              response = _context3.sent;\n              window.location = \"/ExerciseManagement\";\n\n            case 10:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3);\n    }));\n\n    return function updateExercise(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"btn-icon\",\n    color: \"success\",\n    size: \"sm\",\n    onClick: toggleModalDemo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-edit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 27\n    }\n  })), /*#__PURE__*/React.createElement(Modal, {\n    isOpen: modalDemo,\n    toggle: toggleModalDemo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"modal-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    className: \"modal-title\",\n    id: \"exampleModalLabel\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 25\n    }\n  }, \"Edit Weather\"), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: \"close\",\n    \"data-dismiss\": \"modal\",\n    \"aria-hidden\": \"true\",\n    onClick: toggleModalDemo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"tim-icons icon-simple-remove\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 29\n    }\n  }))), /*#__PURE__*/React.createElement(ModalBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"exerciseName\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 33\n    }\n  }, \"Exercise name : \"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"exerciseName\",\n    id: \"exerciseName\",\n    placeholder: \"Enter Exercise name\",\n    className: \"myInput\",\n    value: name,\n    onChange: e => setname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 33\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"chooseAirport\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 37\n    }\n  }, \"Choose Airport\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"select\",\n    id: \"chooseAirport\",\n    className: \"mySelect\",\n    value: airport,\n    onChange: e => setAirport(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 38\n    }\n  }, \"Choose an airport\"), airports.map(airport => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: airport.iata,\n      value: airport.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 52\n      }\n    }, airport.name);\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"chooseWeather\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 37\n    }\n  }, \"Choose Weather\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"select\",\n    id: \"chooseWeather\",\n    className: \"mySelect\",\n    value: weather,\n    onChange: e => setWeather(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 41\n    }\n  }, \"Choose a weather\"), Weathers.map(weather => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: weather.id,\n      value: weather.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 52\n      }\n    }, weather.name);\n  })))))), /*#__PURE__*/React.createElement(ModalFooter, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    color: \"success\",\n    onClick: e => updateExercise(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 21\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    onClick: toggleModalDemo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 25\n    }\n  }, \"Close\"))));\n}; // }\n\n\nexport default EditExercise;","map":{"version":3,"sources":["C:/Users/Amin/Desktop/POC-collab/Push_Test/client/src/components/EditExercise.js"],"names":["React","Fragment","useState","useEffect","newClass","EditExercise","object","modalDemo","setModalDemo","toggleModalDemo","airports","setairports","getairports","fetch","response","json","jsonData","console","error","message","Weathers","setWeathers","getWeathers","Exercise","name","airport_iata","weather_id","searchAirport","nameKey","myArray","i","length","iata","searchWeather","id","exercise","e_name","setname","a_name","airport","setAirport","w_name","weather","setWeather","updateExercise","e","preventDefault","Number","method","headers","body","JSON","stringify","window","location","target","value","map"],"mappings":"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","sourcesContent":["import React,{Fragment,useState,useEffect} from \"react\";\r\nimport {\r\n    \r\n  } from \"reactstrap\";\r\n\r\n\r\nimport {newClass} from \"assets/css/style.css\"\r\n\r\nconst EditExercise =(object) => \r\n{\r\n    \r\n    \r\n    const [modalDemo,setModalDemo] = useState(false);\r\n    \r\n\r\n\r\n    \r\n    \r\n    const toggleModalDemo = () =>\r\n    {   \r\n            setModalDemo(!modalDemo);\r\n         \r\n    }\r\n\r\n    \r\n  \r\n\r\n    \r\n    // GET AIRPORTS  ( GET REQUEST )\r\n    const [airports, setairports] = useState([]);\r\n    const getairports = async () => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:5000/airports\");\r\n            const jsonData = await response.json();\r\n\r\n            setairports(jsonData);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        getairports();\r\n    }, []);\r\n\r\n\r\n    // GET WEATHERS  ( GET REQUEST )\r\n\r\n    const [Weathers, setWeathers] = useState([]);\r\n    const getWeathers = async () => {\r\n        try {\r\n            const response = await fetch(\"http://localhost:5000/weathers\");\r\n            const jsonData = await response.json();\r\n\r\n            setWeathers(jsonData);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        }\r\n\r\n\r\n    };\r\n\r\n    useEffect(() => {\r\n        getWeathers();\r\n    }, []);\r\n\r\n    function Exercise(name, airport_iata, weather_id) {\r\n      this.name = name;\r\n      this.airport_iata = airport_iata;\r\n      this.weather_id = weather_id;\r\n    }\r\n  \r\n    function searchAirport(nameKey, myArray) {\r\n        for (var i = 0; i < myArray.length; i++) {\r\n            if (myArray[i].name === nameKey) {\r\n                return myArray[i].iata;\r\n            }\r\n        }\r\n    }\r\n    function searchWeather(nameKey, myArray) {\r\n        for (var i = 0; i < myArray.length; i++) {\r\n            if (myArray[i].name === nameKey) {\r\n                return myArray[i].id;\r\n            }\r\n        }\r\n    }\r\n\r\n        const [name, setname] = useState(object.exercise.e_name);\r\n        const [airport, setAirport] = useState(object.exercise.a_name);\r\n        const [weather, setWeather] = useState(object.exercise.w_name);\r\n\r\n        //Update Exercise \r\n\r\n        const updateExercise = async e =>\r\n        {\r\n            \r\n            e.preventDefault();\r\n            if(name!=\"\")\r\n            {\r\n                function searchAirport(nameKey, myArray) {\r\n                    for (var i = 0; i < myArray.length; i++) {\r\n                        if (myArray[i].name === nameKey) {\r\n                            return myArray[i].iata;\r\n                        }\r\n                    }\r\n                }\r\n                function searchWeather(nameKey, myArray) {\r\n                    for (var i = 0; i < myArray.length; i++) {\r\n                        if (myArray[i].name === nameKey) {\r\n                            return myArray[i].id;\r\n                        }\r\n                    }\r\n                }\r\n\r\n\r\n                const id = Number(object.exercise.id);\r\n                const exercise = new Exercise(name, searchAirport(airport, airports), searchWeather(weather, Weathers));\r\n                const response = await fetch(`http://localhost:5000/exercises/${id}`, {\r\n                    method: \"PUT\",\r\n                    headers: { \"content-type\": \"application/json\" },\r\n                    body: JSON.stringify(exercise)\r\n                });\r\n\r\n\r\n                window.location = \"/ExerciseManagement\";\r\n            }\r\n        }\r\n        return (\r\n            <Fragment>\r\n              \r\n                <Button className=\"btn-icon\" color=\"success\" size=\"sm\" onClick={toggleModalDemo}>\r\n                          <i className=\"fa fa-edit\"></i>\r\n                         \r\n                        </Button>\r\n                <Modal isOpen={modalDemo} toggle={toggleModalDemo}>\r\n                    <div className=\"modal-header\">\r\n                        <h5 className=\"modal-title\" id=\"exampleModalLabel\">\r\n                            Edit Weather\r\n                         </h5>\r\n                        <button\r\n                            type=\"button\"\r\n                            className=\"close\"\r\n                            data-dismiss=\"modal\"\r\n                            aria-hidden=\"true\"\r\n                            onClick={toggleModalDemo}\r\n                        >\r\n                            <i className=\"tim-icons icon-simple-remove\" />\r\n                        </button>\r\n                    </div>\r\n                    <ModalBody>\r\n                        <form>\r\n\r\n                            <FormGroup>\r\n                                <Label for=\"exerciseName\">Exercise name : </Label>\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    name=\"exerciseName\"\r\n                                    id=\"exerciseName\"\r\n                                    placeholder=\"Enter Exercise name\"\r\n                                    className=\"myInput\"\r\n                                    value={name}\r\n                                    \r\n                                    onChange={e => setname(e.target.value)}\r\n                                />\r\n                            </FormGroup>\r\n\r\n\r\n                            <FormGroup>\r\n                                <FormGroup>\r\n                                    <Label for=\"chooseAirport\">Choose Airport</Label>\r\n                                    <Input type=\"select\" name=\"select\" id=\"chooseAirport\" className=\"mySelect\" value={airport} onChange={e => setAirport(e.target.value)}>\r\n                                     <option selected >Choose an airport</option>\r\n\r\n                                        {airports.map(airport => {\r\n                                            return <option key={airport.iata} value={airport.name}>{airport.name}</option>;\r\n                                        })}\r\n\r\n                                    </Input>\r\n                                </FormGroup>\r\n                                <FormGroup>\r\n                                    <Label for=\"chooseWeather\">Choose Weather</Label>\r\n                                    <Input type=\"select\" name=\"select\" id=\"chooseWeather\"  className=\"mySelect\" value={weather} onChange={e => setWeather(e.target.value)}>\r\n                                        <option selected >Choose a weather</option>\r\n                                        {Weathers.map(weather => {\r\n                                            return <option key={weather.id} value={weather.name}>{weather.name}</option>;\r\n                                        })}\r\n                                    </Input>\r\n                                </FormGroup>\r\n                            </FormGroup>\r\n                 \r\n                           \r\n                        </form>  \r\n                    </ModalBody>\r\n                    <ModalFooter>\r\n                    <Button  color=\"success\" onClick={ e => updateExercise(e)}>\r\n                                Edit\r\n                    </Button>\r\n                        <Button color=\"secondary\" onClick={toggleModalDemo}>\r\n                            Close\r\n                        </Button>\r\n                    </ModalFooter>\r\n                </Modal>\r\n            </Fragment>\r\n        )\r\n    }\r\n// }\r\n\r\nexport default EditExercise;"]},"metadata":{},"sourceType":"module"}