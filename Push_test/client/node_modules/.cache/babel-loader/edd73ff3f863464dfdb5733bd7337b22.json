{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Amin\\\\Desktop\\\\POC-collab\\\\Push_test\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Amin\\\\Desktop\\\\POC-collab\\\\Push_test\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"C:\\\\Users\\\\Amin\\\\Desktop\\\\POC-collab\\\\Push_test\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"C:\\\\Users\\\\Amin\\\\Desktop\\\\POC-collab\\\\Push_Test\\\\client\\\\src\\\\views\\\\HomePage.js\";\nimport React, { useState, useEffect, DropDownList } from \"react\";\nimport { FormGroup, Label, Input, Button, Card, CardBody } from \"reactstrap\"; // reactstrap components\n\nimport { Container } from \"reactstrap\";\n\nvar HomePage = () => {\n  // GET AIRPORTS  ( GET REQUEST )\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      airports = _useState2[0],\n      setairports = _useState2[1];\n\n  var getairports = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      var response, jsonData;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              _context.next = 3;\n              return fetch(\"http://localhost:5000/airports\");\n\n            case 3:\n              response = _context.sent;\n              _context.next = 6;\n              return response.json();\n\n            case 6:\n              jsonData = _context.sent;\n              setairports(jsonData);\n              _context.next = 13;\n              break;\n\n            case 10:\n              _context.prev = 10;\n              _context.t0 = _context[\"catch\"](0);\n              console.error(_context.t0.message);\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 10]]);\n    }));\n\n    return function getairports() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    getairports();\n  }, []); // GET WEATHERS  ( GET REQUEST )\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      Weathers = _useState4[0],\n      setWeathers = _useState4[1];\n\n  var getWeathers = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n      var response, jsonData;\n      return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return fetch(\"http://localhost:5000/weathers\");\n\n            case 3:\n              response = _context2.sent;\n              _context2.next = 6;\n              return response.json();\n\n            case 6:\n              jsonData = _context2.sent;\n              setWeathers(jsonData);\n              _context2.next = 13;\n              break;\n\n            case 10:\n              _context2.prev = 10;\n              _context2.t0 = _context2[\"catch\"](0);\n              console.error(_context2.t0.message);\n\n            case 13:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, _callee2, null, [[0, 10]]);\n    }));\n\n    return function getWeathers() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  useEffect(() => {\n    getWeathers();\n  }, []); // CREATE EXERCICE (POST REQUEST)\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      name = _useState6[0],\n      setname = _useState6[1];\n\n  var _useState7 = useState(\"\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      airport = _useState8[0],\n      setAirport = _useState8[1];\n\n  var _useState9 = useState(\"\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      weather = _useState10[0],\n      setWeather = _useState10[1];\n\n  function Exercise(name, airport_iata, weather_id) {\n    this.name = name;\n    this.airport_iata = airport_iata;\n    this.weather_id = weather_id;\n  }\n\n  var onSubmitForm = /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(e) {\n      var searchAirport, searchWeather, exercise, response;\n      return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              e.preventDefault();\n              _context3.prev = 1;\n\n              searchWeather = function _searchWeather(nameKey, myArray) {\n                for (var i = 0; i < myArray.length; i++) {\n                  if (myArray[i].name === nameKey) {\n                    return myArray[i].id;\n                  }\n                }\n              };\n\n              searchAirport = function _searchAirport(nameKey, myArray) {\n                for (var i = 0; i < myArray.length; i++) {\n                  if (myArray[i].name === nameKey) {\n                    return myArray[i].iata;\n                  }\n                }\n              };\n\n              exercise = new Exercise(name, searchAirport(airport, airports), searchWeather(weather, Weathers));\n              _context3.next = 7;\n              return fetch(\"http://localhost:5000/exercise\", {\n                method: \"POST\",\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                },\n                body: JSON.stringify(exercise)\n              });\n\n            case 7:\n              response = _context3.sent;\n              window.location = \"/Home\";\n              _context3.next = 14;\n              break;\n\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](1);\n              console.error(_context3.t0.message);\n\n            case 14:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, _callee3, null, [[1, 11]]);\n    }));\n\n    return function onSubmitForm(_x) {\n      return _ref3.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-header header-filter\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"squares square1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"squares square2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"squares square3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"squares square4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"squares square5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"squares square6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"squares square7\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"content-center brand\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"h1-seo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }\n  }, \"Create exercise\"), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"d-none d-sm-block\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CardBody, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 21\n    }\n  }, \"Exercise name\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"name\",\n    id: \"name\",\n    placeholder: \"Enter Exercise name\",\n    value: name,\n    onChange: e => setname(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"chooseAirport\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 23\n    }\n  }, \"Choose Airport\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"select\",\n    id: \"chooseAirport\",\n    value: airport,\n    onChange: e => setAirport(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 23\n    }\n  }, \"Choose an airport\"), airports.map(airport => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: airport.iata,\n      value: airport.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 34\n      }\n    }, airport.name);\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    for: \"chooseWeather\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 23\n    }\n  }, \"Choose Weather\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    name: \"select\",\n    id: \"chooseWeather\",\n    value: weather,\n    onChange: e => setWeather(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    selected: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 23\n    }\n  }, \"Choose a weather\"), Weathers.map(weather => {\n    return /*#__PURE__*/React.createElement(\"option\", {\n      key: weather.id,\n      value: weather.name,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 34\n      }\n    }, weather.name);\n  })))), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    color: \"success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 18\n    }\n  }, \"Create an exercise\")))))));\n};\n\nexport default HomePage;","map":{"version":3,"sources":["C:/Users/Amin/Desktop/POC-collab/Push_Test/client/src/views/HomePage.js"],"names":["React","useState","useEffect","DropDownList","FormGroup","Label","Input","Button","Card","CardBody","Container","HomePage","airports","setairports","getairports","fetch","response","json","jsonData","console","error","message","Weathers","setWeathers","getWeathers","name","setname","airport","setAirport","weather","setWeather","Exercise","airport_iata","weather_id","onSubmitForm","e","searchAirport","searchWeather","preventDefault","nameKey","myArray","i","length","id","iata","exercise","method","headers","body","JSON","stringify","window","location","target","value","map"],"mappings":"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","sourcesContent":["\r\nimport  React, {useState,useEffect,DropDownList} from \"react\";\r\nimport {\r\n  FormGroup,\r\n  Label,\r\n  Input,\r\n  Button,\r\n  Card,\r\n  CardBody\r\n  \r\n} from \"reactstrap\";\r\n// reactstrap components\r\nimport { Container } from \"reactstrap\";\r\n\r\n  const HomePage= () => {\r\n\r\n    // GET AIRPORTS  ( GET REQUEST )\r\n    const [airports, setairports] = useState([]);\r\n    const getairports = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5000/airports\");\r\n        const jsonData = await response.json();\r\n  \r\n        setairports(jsonData);\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n    };\r\n\r\n\r\n      useEffect(() => {\r\n        getairports();\r\n      }, []);\r\n    \r\n\r\n    // GET WEATHERS  ( GET REQUEST )\r\n    const [Weathers, setWeathers] = useState([]);\r\n    const getWeathers = async () => {\r\n      try {\r\n        const response = await fetch(\"http://localhost:5000/weathers\");\r\n        const jsonData = await response.json();\r\n  \r\n        setWeathers(jsonData);\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n  \r\n  \r\n    };\r\n  \r\n    useEffect(() => {\r\n      getWeathers();\r\n    }, []);\r\n\r\n\r\n\r\n\r\n\r\n    // CREATE EXERCICE (POST REQUEST)\r\n    const [name, setname] = useState(\"\");\r\n    const [airport, setAirport] = useState(\"\");\r\n    const [weather, setWeather] = useState(\"\");\r\n  \r\n\r\n    function Exercise(name, airport_iata, weather_id) {\r\n      this.name = name;\r\n      this.airport_iata = airport_iata;\r\n      this.weather_id = weather_id;\r\n    }\r\n\r\n    const onSubmitForm = async e => {\r\n\r\n      e.preventDefault();\r\n      try {\r\n        function searchAirport(nameKey, myArray) {\r\n          for (var i = 0; i < myArray.length; i++) {\r\n            if (myArray[i].name === nameKey) {\r\n              return myArray[i].iata;\r\n            }\r\n          }\r\n        }\r\n        function searchWeather(nameKey, myArray){\r\n          for (var i=0; i < myArray.length; i++) {\r\n              if (myArray[i].name === nameKey) {\r\n                  return myArray[i].id;\r\n              }\r\n          }\r\n      }\r\n\r\n          const exercise = new Exercise(name, searchAirport(airport,airports), searchWeather(weather,Weathers));\r\n          const response = await fetch(\"http://localhost:5000/exercise\", {\r\n          method: \"POST\",\r\n          headers: { \"Content-Type\": \"application/json\" },\r\n          body: JSON.stringify(exercise)\r\n        });\r\n  \r\n        window.location = \"/Home\";\r\n      } catch (err) {\r\n        console.error(err.message);\r\n      }\r\n    };\r\n\r\n    return (\r\n      <div className=\"page-header header-filter\">\r\n        <div className=\"squares square1\" />\r\n        <div className=\"squares square2\" />\r\n        <div className=\"squares square3\" />\r\n        <div className=\"squares square4\" />\r\n        <div className=\"squares square5\" />\r\n        <div className=\"squares square6\" />\r\n        <div className=\"squares square7\" />\r\n        <Container>\r\n            <div className=\"content-center brand\">\r\n            <h1 className=\"h1-seo\">Create exercise</h1>\r\n\r\n            <h3 className=\"d-none d-sm-block\"></h3>\r\n            <Card>\r\n              <CardBody>\r\n                <form onSubmit={onSubmitForm}>\r\n                <FormGroup>\r\n                    <Label for=\"name\">Exercise name</Label>\r\n                    <Input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      id=\"name\"\r\n                      placeholder=\"Enter Exercise name\"\r\n                      value={name}\r\n                      onChange={e => setname(e.target.value)}\r\n                    />\r\n                </FormGroup>\r\n                  <FormGroup>\r\n                    <FormGroup>\r\n                      <Label for=\"chooseAirport\">Choose Airport</Label>\r\n                      <Input type=\"select\" name=\"select\" id=\"chooseAirport\" \r\n                        value={airport} onChange={e => setAirport(e.target.value)}>\r\n                      <option selected >Choose an airport</option>\r\n\r\n                        {airports.map(airport => {\r\n                          return <option key={airport.iata} value={airport.name}>{airport.name}</option>;\r\n                        })}\r\n\r\n                      </Input> \r\n\r\n                     \r\n                    </FormGroup>\r\n                  <FormGroup>\r\n                      <Label for=\"chooseWeather\">Choose Weather</Label>\r\n                      <Input type=\"select\" name=\"select\" id=\"chooseWeather\" value={weather} onChange={e => setWeather(e.target.value)}>\r\n                      <option selected >Choose a weather</option>\r\n                      \r\n                       {Weathers.map(weather => {\r\n                          return <option key={weather.id} value={weather.name}>{weather.name}</option>;\r\n                        })}\r\n\r\n                      </Input>\r\n                    </FormGroup>\r\n                  </FormGroup>\r\n                 <Button type=\"submit\" color=\"success\">Create an exercise</Button>\r\n                </form>\r\n              </CardBody>\r\n            </Card>\r\n          </div>\r\n        </Container>\r\n      </div>\r\n     \r\n    );\r\n  }\r\n\r\nexport default HomePage;\r\n"]},"metadata":{},"sourceType":"module"}